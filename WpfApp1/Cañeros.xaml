<UserControl x:Class="WpfApp1.Cañeros"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:fa="http://schemas.fontawesome.io/icons/"
             Background="White">
    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="300" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Título -->
        <StackPanel Orientation="Horizontal">
            <fa:ImageAwesome Icon="Truck" Width="40" Height="30" Foreground= "#2C3E50"  Margin="0,0,10,20"/>
            <TextBlock Text="GESTIÓN DE CAÑEROS" FontSize="30" FontWeight="Bold" Foreground="#2C3E50" Margin="0,10,0,20" />
        </StackPanel>

        <!-- Botones -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,10,0,30">
            <Button Width="200" Height="40" Background="#007bff" Foreground="White" FontWeight="Bold" BorderBrush="Transparent" Margin="0,10,10,0" Click="BtnAbrirFormulario_Click" FontSize="18">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <fa:ImageAwesome Icon="Plus" Width="18" Height="18" Foreground="White" Margin="0,0,10,0"/>
                    <TextBlock Text="AGREGAR NUEVO" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button Width="160" Height="40" Background="Gray"  Foreground="White" FontWeight="Bold" BorderBrush="Transparent" Margin="0,10,10,0" Click="BtnVerCuenta_Click" FontSize="18">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <fa:ImageAwesome Icon="List" Width="18" Height="18" Foreground="White" Margin="0,0,10,0"/>
                    <TextBlock Text="VER CUENTA" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- Búsqueda + listado de clientes con ScrollViewer -->
        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <!-- Buscador -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10" VerticalAlignment="Center">
                <TextBlock Text="Buscar por nombre o ID:" 
   VerticalAlignment="Center" 
   FontSize="18" 
   Foreground="Gray" 
   Margin="0,0,10,0"/>

                <Border Background="#f1f3f5" 
BorderBrush="#ced4da" 
BorderThickness="1" 
CornerRadius="4"
Height="36">
                    <DockPanel>
                        <fa:ImageAwesome Icon="Search" Width="20" Height="20" 
                  Foreground="Gray" 
                  Margin="8,0"
                  VerticalAlignment="Center"/>
                        <TextBox x:Name="txtBuscar" 
         Width="260" 
         Background="#f1f3f5" 
         BorderThickness="0"
         Padding="4,0"
         FontSize="14" 
         VerticalContentAlignment="Center"
         TextChanged="txtBuscar_TextChanged"/>
                    </DockPanel>
                </Border>
            </StackPanel>

            <!-- Tabla con Scroll -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <DataGrid x:Name="dgProveedores"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          HeadersVisibility="Column"
                          IsReadOnly="True"
                          GridLinesVisibility="None"
                          RowBackground="White"
                          AlternatingRowBackground="#F9F9F9"
                          BorderThickness="0"
                          Background="White"
                          RowHeight="40"
                          FontSize="14"
                          Margin="0,10,0,0"
                          SelectionChanged="DgProveedores_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="proveedorID" Binding="{Binding proveedorID}" Width="50"/>
                        <DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="100"/>
                        <DataGridTextColumn Header="Apellido" Binding="{Binding Apellido}" Width="100"/>
                        <DataGridTextColumn Header="DNI" Binding="{Binding DNI}" Width="100"/>
                        <DataGridTextColumn Header="Dirección" Binding="{Binding Direccion}" Width="150"/>
                        <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="150"/>
                        <DataGridTextColumn Header="Telefono" Binding="{Binding Telefono}" Width="100"/>
                        <DataGridTextColumn Header="Fecha Alta" Binding="{Binding FechaAlta}" Width="120"/>
                    </DataGrid.Columns>
                </DataGrid>
            </ScrollViewer>
        </Grid>

        <!-- Tarjeta de saldos -->
        <Border Grid.Row="3" Grid.Column="0" Background="#F8F9FA" Padding="20" CornerRadius="10" BorderBrush="#DDD" BorderThickness="1" Margin="0,20,352,0">
            <StackPanel Orientation="Vertical">
                <TextBlock Text="SALDO DEL CAÑERO" FontSize="22" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,10"/>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <fa:ImageAwesome Icon="Money" Width="24" Height="24" Foreground="#28a745" Margin="0,0,10,0"/>
                    <TextBlock Text="Saldo actual:" FontSize="18" FontWeight="Bold" Foreground="Gray" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock x:Name="txtSaldo" FontSize="22" FontWeight="Bold" Foreground="#28a745" VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <Image Source="/WpfApp1;component/Images/sack-dollar.png" Width="24" Height="24" Margin="0,0,10,0"/>
                    <TextBlock Text="Saldo en bolsas:" FontSize="18" FontWeight="Bold" Foreground="Gray" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock x:Name="txtSaldoBolsas" FontSize="22" FontWeight="Bold" Foreground="Brown" VerticalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Panel lateral derecho -->
        <Border Grid.Column="1" Grid.Row="0" Grid.RowSpan="4" Background="#F8F9FA" Margin="20,0,0,0" Padding="20" CornerRadius="10" BorderBrush="#DDD" BorderThickness="1">
            <StackPanel>
                <TextBlock Text="Apellido:" Margin="0,0,0,2" FontSize="16"/>
                <TextBox x:Name="txtApellido" Height="28" Background="#fff" Margin="0,0,0,10" PreviewTextInput="SoloLetras_PreviewTextInput" TextChanged="txtApellido_TextChanged" FontSize="16"/>
                <TextBlock x:Name="lblErrorApellido" Foreground="Red" FontSize="12" Visibility="Collapsed" Text="Solo se permiten letras." />

                <TextBlock Text="Nombre:" Margin="0,0,0,2" FontSize="16"/>
                <TextBox x:Name="txtNombre" Height="28" Background="#fff" Margin="0,0,0,10" PreviewTextInput="SoloLetras_PreviewTextInput" TextChanged="txtNombre_TextChanged" FontSize="16"/>
                <TextBlock x:Name="lblErrorNombre" Foreground="Red" FontSize="12" Visibility="Collapsed" Text="Solo se permiten letras." />

                <TextBlock Text="DNI:" Margin="0,0,0,2" FontSize="16"/>
                <TextBox x:Name="txtDNI" Height="28" Background="#fff" Margin="0,0,0,10" PreviewTextInput="SoloNumeros_PreviewTextInput" TextChanged="txtDNI_TextChanged" FontSize="16"/>
                <TextBlock x:Name="lblErrorDNI" Foreground="Red" FontSize="12" Visibility="Collapsed" Text="Solo se permiten números." />

                <TextBlock Text="Dirección:" Margin="0,0,0,2" FontSize="16"/>
                <TextBox x:Name="txtDireccion" Height="28" Background="#fff" Margin="0,0,0,10" FontSize="16"/>

                <TextBlock Text="Email:" Margin="0,0,0,2" FontSize="16"/>
                <TextBox x:Name="txtEmail" Height="28" Background="#fff" Margin="0,0,0,10" FontSize="16"/>

                <TextBlock Text="Teléfono:" Margin="0,0,0,2" FontSize="16"/>
                <TextBox x:Name="txtTelefono" Height="28" Background="#fff" Margin="0,0,0,10" FontSize="16"/>

                <!-- Botón corregido -->
                <Button Width="200" Height="40" Background="#28a745" Foreground="White" FontWeight="Bold" BorderBrush="Transparent" Margin="0,10,0,10" Click="BtnGuardarCambios_Click" FontSize="15">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <fa:ImageAwesome Icon="Save" Width="18" Height="18" Foreground="White" Margin="0,0,10,0"/>
                        <TextBlock Text="GUARDAR CAMBIOS" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
